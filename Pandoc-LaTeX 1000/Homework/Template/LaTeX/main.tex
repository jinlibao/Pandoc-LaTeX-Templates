\documentclass[twoside, usename, dvipsnames, svgnames, table]{article}
\usepackage{
    amsthm, amsmath, amssymb, booktabs, caption, color, enumerate, fancyhdr,
    graphicx, grffile, geometry, hyperref, lipsum, listings, mathtools, tikz,
    tikzscale, verbatim, xcolor, subcaption, lastpage,
}
\captionsetup{width=0.95\textwidth}
\geometry{
    margin = 1in
}
% \usepackage{fontspec}
% \setmonofont[Scale=0.8]{Monaco}
% \usepackage{xeCJK}
% \setCJKmainfont[BoldFont=Heiti SC Medium]{Heiti SC Light}
% \setCJKsansfont{Heiti SC}
% \setCJKmonofont{Heiti SC}

\usepackage[ruled]{algorithm2e}

% Table alignment
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\arraybackslash}p{#1}}

% Enviroments for definition, lemma, corollary, remark, theorem, example, proposition
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{corollary}{Corollary}[section]
\newtheorem{remark}{Remark}[section]
\newtheorem{theorem}{Theorem}[section]
\newtheorem{example}{Example}[section]
\newtheorem{proposition}{Proposition}[section]

% Basic setup for lstlisting environment
\lstset{
    basicstyle={\ttfamily\footnotesize},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language={},
}

% Define language diff (using git diff highlighting)
\newcommand{\lstbg}[3][0pt]{{\fboxsep#1\colorbox{#2}{\strut #3}}}
\lstdefinelanguage{diff}{
  basicstyle=\ttfamily\small,
  breaklines=true,
  morecomment=[f][\lstbg{red!20}]-,
  morecomment=[f][\lstbg{green!20}]+,
  morecomment=[f][\color{blue}]{@@},
}

% Define language Golang
\lstdefinelanguage{Golang}%
  {morekeywords=[1]{package,import,func,type,struct,return,defer,panic,%
     recover,select,var,const,iota,},%
   morekeywords=[2]{string,uint,uint8,uint16,uint32,uint64,int,int8,int16,%
     int32,int64,bool,float32,float64,complex64,complex128,byte,rune,uintptr,%
     error,interface},%
   morekeywords=[3]{map,slice,make,new,nil,len,cap,copy,close,true,false,%
     delete,append,real,imag,complex,chan,},%
   morekeywords=[4]{for,break,continue,range,goto,switch,case,fallthrough,if,%
     else,default,},%
   morekeywords=[5]{Println,Printf,Error,Print,},%
   sensitive=true,%
   morecomment=[l]{//},%
   morecomment=[s]{/*}{*/},%
   morestring=[b]',%
   morestring=[b]",%
   morestring=[s]{`}{`},%
}

% Define various styles for different lanuages
\lstdefinestyle{Makefile}{
    basicstyle=\ttfamily,
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{darkgray},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=make,
}

\lstdefinestyle{MATLAB}{
    basicstyle={\ttfamily\small},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
     language=MATLAB,
}

\lstdefinestyle{C++}{
    basicstyle=\ttfamily,
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={memset},
    morekeywords={>,<,.,;,-,!,=,~},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={bool,int,char,double,float,unsigned,auto,string,pair,unordered_set,vector},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=C++,
}

\lstdefinestyle{Plain}{
    basicstyle={\ttfamily\footnotesize},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language={},
}

\lstdefinestyle{TeX}{
    basicstyle={\ttfamily\footnotesize},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=[LaTeX]{TeX},
}

\lstdefinestyle{C}{
    basicstyle={\ttfamily\footnotesize},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=C,
}

\lstdefinestyle{Python}{
    basicstyle={\ttfamily\footnotesize},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=Python,
}


\lstdefinestyle{Golang}{
    basicstyle={\ttfamily\footnotesize},
    breaklines=true,
    keywordstyle=\color{Red},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{darkgray},
    stringstyle=\color{LightCoral},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={int,char,double,float,unsigned,auto},
    emphstyle={\color{Cerulean}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=Golang,
}

\lstdefinestyle{diff}{
    basicstyle={\ttfamily},
    breaklines=true,
    keywordstyle=\color{black},
    otherkeywords={},
    morekeywords={},
    identifierstyle=\color{black},
    stringstyle=\color{black},
    commentstyle=\color{gray},
    showstringspaces=false,
    numberstyle={\footnotesize \color{Black}},
    numbersep=9pt,
    numbers=left,
    emph={},
    emphstyle={\color{black}},
    frame=single,
    backgroundcolor=\color{White},
    tabsize=4,
    language=diff,
}

\def\Xint#1{\mathchoice
{\XXint\displaystyle\textstyle{#1}}%
{\XXint\textstyle\scriptstyle{#1}}%
{\XXint\scriptstyle\scriptscriptstyle{#1}}%
{\XXint\scriptscriptstyle\scriptscriptstyle{#1}}%
\!\int}
\def\XXint#1#2#3{{\setbox0=\hbox{$#1{#2#3}{\int}$ }
\vcenter{\hbox{$#2#3$ }}\kern-.6\wd0}}
\def\ddashint{\Xint=}
\def\dashint{\Xint-}

\providecommand{\tightlist}{%
      \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setlength{\parindent}{0pt}

\newenvironment{solution}
{\begin{proof}[\textsc{Solution}]}
  {\end{proof}}

\author{Libao Jin (\url{ljin1@uwyo.edu})}
\title{Pandoc-LaTeX 1000 - Unknown Course Name Homework Template}
\date{\today}

\makeatletter
\let\Author\@author
\let\Title\@title
\makeatother

\hypersetup{
    %--------------- pdfinfo ------------------
    pdftitle  = {\Title},
    pdfauthor = {\Author},
    pdfsubject= {\Title},
    pdfkeywords={},
    %--------------- links --------------------
    colorlinks= {true},
    linkcolor = {red},
    citecolor = {cyan},
    bookmarks = {false},
    bookmarksnumbered = {true},
    %--------------- pagemode -----------------
    pdffitwindow={true},
    pdftoolbar= {false},
    pdfmenubar= {false},
    pdfpagelayout = {OneColumn},
    pdfstartview = {FitH},
    pdfpagemode = {UseNone},
    %pdfnonfullscreenpagemode = {UseNone}
}

\fancypagestyle{mystyle}{
    \fancyhf{}
    \fancyhead[LO,RE]{\footnotesize \Author}
    \fancyhead[CO,CE]{\footnotesize \Title}
    \fancyhead[RO,LE]{\footnotesize \thepage/\pageref{LastPage}}
%   \fancyfoot[RO,LE]{\author}
%   \fancyfoot[CO,CE]{\footnotesize\thepage}
%   \fancyfoot[LO,RE]{\date}
    \pagenumbering{arabic}
}
\pagestyle{mystyle}
\allowdisplaybreaks

\begin{document}
\maketitle
\input{body.tex}
\end{document}
